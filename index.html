<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>holis</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600;700;800&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- ═══════════════════════════════════════════════════════════
       FONDO — pixel-art hearts, tiled
  ════════════════════════════════════════════════════════════ -->
  <div class="bg-layer" aria-hidden="true">
    <div class="bg-vignette"></div>
  </div>

  <!-- Corazones flotantes (generados por JS) -->
  <div id="hearts-container" aria-hidden="true"></div>

  <!-- ═══════════════════════════════════════════════════════════
       SCREEN 1 — La Pregunta
  ════════════════════════════════════════════════════════════ -->
  <main id="screen-pregunta" class="screen active">
    <div class="card card-pregunta">

      <h1 class="question-text">te extrañoo :(<br></h1>

      <div class="btn-row" id="btn-row">
        <button class="pill-btn pink" id="btn-si" onclick="handleSi()">
          SÍ ♥
        </button>
        <button class="pill-btn pink" id="btn-no" 
                onmouseenter="moveNo()" 
                ontouchstart="moveNo()"
                onclick="moveNo()">
          NO
        </button>
      </div>

      <div class="totoro-wrap">
        <img src="totoro.png" alt="Totoro kawaii" class="totoro-img" />
      </div>

    </div>
  </main>

  <!-- ═══════════════════════════════════════════════════════════
       SCREEN 2 — El Popup
  ════════════════════════════════════════════════════════════ -->
  <div id="screen-popup" class="screen popup-overlay hidden">
    <div class="popup-backdrop"></div>

    <!-- Ghost of screen 1 -->
    <div class="card card-pregunta ghost" aria-hidden="true">
      <div class="ghost-line wide"></div>
      <div class="ghost-line narrow"></div>
      <div class="ghost-btn-row">
        <div class="ghost-btn"></div>
        <div class="ghost-btn"></div>
      </div>
      <div class="ghost-totoro"></div>
    </div>

    <!-- Modal card -->
    <div class="modal-card" id="modal-card">
      <span class="corner-heart tl">♥</span>
      <span class="corner-heart tr">♥</span>
      <span class="corner-heart bl">♥</span>
      <span class="corner-heart br">♥</span>

      <p class="popup-text">
        Se que necesitas tiempo para pensar todo<br>
        <br>solo quiero que sepas que quiero que funcione lo nuestro
        <span class="red-text"></span>
      </p>

      <button class="pill-btn red pulse-btn" onclick="handleAbrirRegalo()">
        Abrir Carta 
      </button>

      <div class="totoro-wrap small">
        <img src="totoro.png" alt="Totoro" class="totoro-img" />
      </div>
    </div>
  </div>

  <!-- ═══════════════════════════════════════════════════════════
       SCREEN 3 — La Carta Final
  ════════════════════════════════════════════════════════════ -->
  <div id="screen-carta" class="screen hidden carta-screen">

    <!-- Close button -->
    <button class="close-btn" onclick="handleClose()">
      <svg width="10" height="10" viewBox="0 0 10 10" fill="none" aria-hidden="true">
        <path d="M1 1l8 8M9 1L1 9" stroke="white" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Cerrar regalo
    </button>

    <!-- Airmail envelope -->
    <div class="envelope-outer">
      <div class="envelope-inner">

        <p class="letter-from">De: Daniel</p>
        <div class="letter-divider"></div>

        <p class="letter-body">
        Yo se también que no debí apurar la respuesta, que es importante que cada uno tenga su espacio
        y sobre todo si me lo habías dicho que no estabas bien, tal vez no veas esto porque había bajado el link
        solo quiero decirte que no hiciste nada mal eres una persona de vdd muy linda y te mereces todo lo bueno que te pase
        y yo quiero estar ahí para ti, me dijiste que no crees que me puedas dar lo que yo quería y yo creo que si porque ya me lo estabas dando 
        y que es a ti, pero tal cual eres, porque me gusta que seas dispersa dmkskd de vdd lo digo me encanta cuando me estas contando algo luego me cuentas otra cosa
        y después te tengo que acordar de que termines lo primero que me estabas contando mdskmdskmdskm, también me gusta cuando hablas asi como 
        "no se puele" sdmkdmskkm o cuando te me pones a pellizcarme, me gusta cuando me cuentas chismes y me gusta contarte también
        , también me gusta ayudarte porque como que me dices que soy inteligente o cosas asi smdskdskm bueno y eso solo quiera escribir un poco las cosas que siento,
        aparte de tambien que nunca respondí bien tu pregunta de porque me gustabas, por que me da vergüenza decírtelas en persona , espero poder hablar en 
        contigo pronto, ya que se que podemos llegar a algo porque creo que fue muy rápido todo y tal vez por eso te dio miedito, pero 
        podemos ir más tranqui creo que mientras podamos fluir y ser nosotros, solo debo entenderte y si hay veces que no se puele por mas que uno quiera 
        pero no quiero perderte tan fácil de vdd que no

        </p>

        <div class="letter-divider"></div>
        <p class="letter-to">Para: Antonia &lt;3</p>

      </div>
    </div>

    <!-- Floating hearts below letter -->
    <div class="letter-hearts">
      <span class="lheart">♥</span>
      <span class="lheart">♥</span>
      <span class="lheart">♥</span>
    </div>

  </div>

  <!-- NO button floating (fixed, escaping) -->
  <button class="pill-btn pink no-floating hidden" id="btn-no-floating" 
        style="position: fixed; z-index: 9999;"
        onmouseenter="moveNo()"
        ontouchstart="moveNo()"
        onclick="moveNo()">
    NO
</button>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
  <script src="script.js"></script>
<audio id="miMusica" src="musica.mp3" loop></audio>
</body>
</html>